{% load static %}

<style>
    .countdown-num {
        font-family: Helvetica;
        font-size: clamp(1.4vw, 6vw, 12vw);
        font-style: normal;
        font-weight: 700;
        padding-left: 15px;
        padding-right: 15px;
        color: white;
        padding: 20px 20px;
        border-radius: 15px;
    }

    .days {
        color: #02A1E5;
        text-shadow: 0px 0px 20px rgba(2, 161, 229, 1);
        border: 4px solid rgba(2, 161, 229, 1);
    }

    .hours {
        color: #02E5E5;
        text-shadow: 0px 0px 20px #02E5E5;
        border: 4px solid #02E5E5;
    }

    .minutes {
        color: #7906EB;
        text-shadow: 0px 0px 20px #7906EB;
        border: 4px solid #7906EB;
    }

    .seconds {
        color: #D906EB;
        text-shadow: 0px 0px 20px #D906EB;
        border: 4px solid #D906EB;
    }


    .countdown-container {
        display: flex;
        flex-direction: row;
        gap: 3vw;
    }

    .date-container {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .date-title {
        color: #FFF !important;
        font-size: clamp(20px, 1.3vw, 2.5vw);
        font-style: normal;
        font-weight: 800;
        line-height: normal;
        margin: 0;
        /* Remove the margin */
    }

    .date-title h2 {
        margin: 0;
        padding: 0;
        line-height: 0;
        /* Remove the line gap */
    }

    .all-dates {
        margin: 0 40px;
        display: flex;
        flex-direction: row;
        gap: 5vw;
        justify-content: center;
        align-items: center;
    }

    .half-dates-container {
        display: flex;
        flex-direction: row;
        gap: 5vw;

    }

    @media (max-width: 900px) {

        .countdown-num {
            font-size: clamp(20px, 13vw, 12vw);

        }

        .all-dates {
            margin: 0 40px;
            display: flex;
            flex-direction: column;
            gap: 5vw;
            justify-content: center;
            align-items: center;
        }

        .half-dates-container {

            gap: 10vw;

        }
    }

    #countdown-section {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 0px;
    }

    .countdown-section-title {
        font-family: Helvetica;
        font-size: clamp(35px, 3vw, 8vw);
        font-style: normal;
        font-weight: 700;
        line-height: normal;
        background: linear-gradient(90deg, #EB06C7 0.04%, #02E5E5 95.27%);
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
</style>

<section id="countdown-section">
    <h2 class="countdown-section-title">Preliminary Round</h2>
    <div class="all-dates">
        <div class="half-dates-container">
            <div class="date-container">
                <div class="countdown-container">
                    <div class="countdown-num-container">
                        <h3 class="days countdown-num" id="days-digit-1">0</h3>
                    </div>
                    <div class="countdown-num-container">
                        <h3 class="days countdown-num" id="days-digit-2">0</h3>
                    </div>
                </div>
                <div class="date-title">
                    <h2>Days</h2>
                </div>
            </div>
            <div class="date-container">
                <div class="countdown-container">
                    <div class="countdown-num-container">
                        <h3 class="hours countdown-num" id="hours-digit-1">0</h3>
                    </div>
                    <div class="countdown-num-container">
                        <h3 class="hours countdown-num" id="hours-digit-2">0</h3>
                    </div>
                </div>
                <div class="date-title">
                    <h2>Hours</h2>
                </div>
            </div>
        </div>

        <div class="half-dates-container">
            <div class="date-container">
                <div class="countdown-container">
                    <div class="countdown-num-container">
                        <h3 class="minutes countdown-num" id="minutes-digit-1">0</h3>
                    </div>
                    <div class="countdown-num-container">
                        <h3 class="minutes countdown-num" id="minutes-digit-2">0</h3>
                    </div>
                </div>
                <div class="date-title">
                    <h2>Minutes</h2>
                </div>
            </div>
            <div class="date-container">
                <div class="countdown-container">
                    <div class="countdown-num-container">
                        <h3 class="seconds countdown-num" id="seconds-digit-1">0</h3>
                    </div>
                    <div class="countdown-num-container">
                        <h3 class="seconds countdown-num" id="seconds-digit-2">0</h3>
                    </div>
                </div>
                <div class="date-title">
                    <h2>Seconds</h2>
                </div>
            </div>
        </div>
    </div>
</section>

<script>


    // Set the target date for the countdown (September 27, 2023)
    const options = {
        timeZone: "Asia/Kuala_Lumpur",
        year: 'numeric',
        month: 'numeric',
        day: 'numeric',
        hour: 'numeric',
        minute: 'numeric',
        second: 'numeric'
    };

    let targetDate = new Date("2023-11-27T00:00:00");
    const formatter = new Intl.DateTimeFormat("en-US", options);
    const targetDateString = formatter.format(targetDate);

    targetDate = targetDate.getTime();

    const countdownInterval = setInterval(updateCountdown, 1000);

    function updateCountdown() {
        // Get the current date and time
        const currentDate = new Date().getTime();

        // Calculate the time remaining
        const timeRemaining = targetDate - currentDate;

        if (timeRemaining <= 0) {
            // The countdown has reached its end
            clearInterval(countdownInterval);
            return;
        }

        // Calculate days, hours, minutes, and seconds
        const days = Math.floor(timeRemaining / (1000 * 60 * 60 * 24));
        const hours = Math.floor((timeRemaining % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const minutes = Math.floor((timeRemaining % (1000 * 60 * 60)) / (1000 * 60));
        const seconds = Math.floor((timeRemaining % (1000 * 60)) / 1000);

        // Update the countdown display
        document.getElementById("days-digit-1").textContent = Math.floor(days / 10);
        document.getElementById("days-digit-2").textContent = days % 10;
        document.getElementById("hours-digit-1").textContent = Math.floor(hours / 10);
        document.getElementById("hours-digit-2").textContent = hours % 10;
        document.getElementById("minutes-digit-1").textContent = Math.floor(minutes / 10);
        document.getElementById("minutes-digit-2").textContent = minutes % 10;
        document.getElementById("seconds-digit-1").textContent = Math.floor(seconds / 10);
        document.getElementById("seconds-digit-2").textContent = seconds % 10;
    }

    // Initial update
    updateCountdown();

</script>